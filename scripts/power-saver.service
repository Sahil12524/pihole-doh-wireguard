[Unit]
Description=Auto-pause Docker containers on internet loss and suspend on battery
After=network.target docker.service
Requires=docker.service

[Service]
Type=simple
ExecStart=/usr/local/bin/power_saver.sh
Restart=always
RestartSec=5
User=root

# Critical: Ensure all commands (ping, curl, docker, etc) work under systemd
Environment="PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"

StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target
